(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a,r=n(3),c=n(1),i=n.n(c),o=n(23),s=n.n(o),l=(n(45),n(4)),d=(n(46),n(6)),u=n(13),b=n(9),j=n(16),p=n(22),h=n(18),O=Object(h.b)("employees/getEmployees",Object(p.a)(Object(j.a)().mark((function e(){var t,n;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/employees");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))),m=Object(h.b)("users/deleteUser",function(){var e=Object(p.a)(Object(j.a)().mark((function e(t){var n,a,r;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:{"Content-Type":"application/json"}},e.next=3,fetch("/employees/".concat(t.id),n);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(h.b)("employees/postEmployee",function(){var e=Object(p.a)(Object(j.a)().mark((function e(t){var n,a,r;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("/employees",n);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=Object(h.b)("users/updEmployee",function(){var e=Object(p.a)(Object(j.a)().mark((function e(t){var n,a,r;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("/employees/".concat(t.id),n);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(h.c)({name:"emps",initialState:{data:[],loading:!1},reducers:{addEmployee:function(e,t){e.data.push(t.payload)},updateEmployee:function(e,t){var n=t.payload,a=n.id,r=n.name,c=n.email,i=n.occupation,o=n.salary,s=e.data.find((function(e){return e.id===a}));s&&(s.name=r,s.email=c,s.occupation=i,s.salary=o)},deleteEmployee:function(e,t){e.data=e.data.filter((function(e){return e.id!==t.payload.id}))}},extraReducers:(a={},Object(b.a)(a,O.pending,(function(e,t){e.loading=!0})),Object(b.a)(a,O.fulfilled,(function(e,t){e.loading=!1,e.data=t.payload})),Object(b.a)(a,O.rejected,(function(e,t){e.loading=!1})),Object(b.a)(a,m.pending,(function(e,t){e.loading=!0})),Object(b.a)(a,m.fulfilled,(function(e,t){e.loading=!1,e.data=e.data.filter((function(e){return e.id!==t.payload.id}))})),Object(b.a)(a,m.rejected,(function(e,t){e.loading=!1})),Object(b.a)(a,x.pending,(function(e,t){e.loading=!0})),Object(b.a)(a,x.fulfilled,(function(e,t){e.loading=!1,e.data.push(t.payload)})),Object(b.a)(a,x.rejected,(function(e,t){e.loading=!1})),Object(b.a)(a,f.pending,(function(e,t){e.loading=!0})),Object(b.a)(a,f.fulfilled,(function(e,t){var n=t.payload,a=n.id,r=n.name,c=n.email,i=n.occupation,o=n.salary,s=e.data.find((function(e){return e.id===a}));s&&(s.name=r,s.email=c,s.occupation=i,s.salary=o)})),Object(b.a)(a,f.rejected,(function(e,t){e.loading=!1})),a)}),v=g.actions,y=(v.addEmployee,v.updateEmployee,v.deleteEmployee,g.reducer),w=n(8),N=n(0);var S=function(){var e=Object(d.g)().pathname,t=parseInt(e.replace("/edit-employee/","")),n=Object(u.c)((function(e){return e.emps.data.find((function(e){return e.id===t}))})),a=Object(u.b)(),r=Object(c.useState)(n.name),i=Object(l.a)(r,2),o=i[0],s=i[1],b=Object(c.useState)(n.email),j=Object(l.a)(b,2),p=j[0],h=j[1],O=Object(c.useState)(n.occupation),m=Object(l.a)(O,2),x=m[0],g=m[1],v=Object(c.useState)(n.salary),y=Object(l.a)(v,2),S=y[0],C=y[1];return Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("h1",{children:"Edit employee"})}),Object(N.jsx)("div",{className:"row",children:Object(N.jsxs)("div",{className:"four columns",children:[Object(N.jsx)("label",{htmlFor:"nameInput",children:"Name"}),Object(N.jsx)("input",{className:"u-full-width",type:"text",placeholder:"Edit Name...",id:"nameInput",onChange:function(e){return s(e.target.value)},value:o}),Object(N.jsx)("label",{htmlFor:"emailInput",children:"Email"}),Object(N.jsx)("input",{className:"u-full-width",type:"email",placeholder:"Edit Email...",id:"emailInput",onChange:function(e){return h(e.target.value)},value:p}),Object(N.jsx)("label",{htmlFor:"occupationInput",children:"Occupation"}),Object(N.jsx)("input",{className:"u-full-width",type:"text",placeholder:"Edit Occupation...",id:"occupationInput",onChange:function(e){return g(e.target.value)},value:x}),Object(N.jsx)("label",{htmlFor:"salaryInput",children:"Salary"}),Object(N.jsx)("input",{className:"u-full-width",type:"text",placeholder:"Edit Salary...",id:"salaryInput",onChange:function(e){return C(e.target.value)},value:S}),Object(N.jsx)(w.b,{to:"/",children:Object(N.jsx)("button",{onClick:function(){a(f({id:t,name:o,email:p,occupation:x,salary:S}))},className:"button-primary",children:"Save Changes"})})]})})]})};var C,k,E,F,I=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.emps})).data,n=Object(u.c)((function(e){return e.loading}));return Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("h1",{children:"Holmes Corp. Employee App"})}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"three columns",children:Object(N.jsx)("button",{onClick:function(){return e(O())},className:"button-primary",children:"Load Employees"})}),Object(N.jsx)("div",{className:"three columns",children:Object(N.jsx)(w.b,{to:"/add-employee",children:Object(N.jsx)("button",{className:"button-primary",children:"Add Employees"})})})]}),Object(N.jsx)("div",{className:"row",children:n?"Loading...":Object(N.jsxs)("table",{className:"u-full-width",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Name"}),Object(N.jsx)("th",{children:"Email"}),Object(N.jsx)("th",{children:"Occupation"}),Object(N.jsx)("th",{children:"Salary"}),Object(N.jsx)("th",{children:"Actions"})]})}),Object(N.jsx)("tbody",{children:t.length&&t.map((function(t,n){var a=t.id,r=t.name,c=t.email,i=t.occupation,o=t.salary,s=t.courses,l=t.signups;return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:r}),Object(N.jsx)("td",{children:c}),Object(N.jsx)("td",{children:i}),Object(N.jsx)("td",{children:o}),Object(N.jsxs)("td",{children:[Object(N.jsx)("button",{onClick:function(){return function(t){e(m({id:t}))}(a)},children:"Delete"}),Object(N.jsx)(w.b,{to:"/edit-employee/".concat(a),children:Object(N.jsx)("button",{children:"Edit"})})]}),s.map((function(e){return Object(N.jsxs)("ul",{children:["Courses: ",e.description]})})),l.map((function(e){return Object(N.jsxs)("ul",{children:["Signup Time: ",e.time]})}))]},n)}))})]})})]})},U=n(2);U.b.div(C||(C=Object(r.a)(["\n  border-radius: 6px;\n  box-shadow: 0 0.5em 1em -0.125em rgb(10 10 10 / 10%),\n    0 0 0 1px rgb(10 10 10 / 2%);\n  padding: 16px;\n"]))),n(19),n(26);var T,L,z,P,A,D,H,J=U.b.button(k||(k=Object(r.a)(["\n  cursor: pointer;\n  font-size: 1rem;\n  border: 1px solid transparent;\n  border-radius: 6px;\n  padding: 8px 16px;\n  text-decoration: none;\n"])));Object(U.b)(J)(E||(E=Object(r.a)(["\n  background-color: var(--main);\n  color: var(--accent);\n  &:hover {\n    opacity: 0.9;\n  }\n"]))),Object(U.b)(J)(F||(F=Object(r.a)(["\n  background-color: white;\n  color: var(--main);\n  border: 2px solid var(--main);\n  &:hover {\n    background: hsl(235deg 85% 97%);\n  }\n"]))),U.b.div(T||(T=Object(r.a)(["\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n"]))),U.b.input(L||(L=Object(r.a)(["\n  border-radius: 6px;\n  border: 1px solid transparent;\n  border-color: #dbdbdb;\n  -webkit-appearance: none;\n  max-width: 100%;\n  width: 100%;\n  font-size: 1rem;\n  line-height: 1.5;\n  padding: 4px;\n"]))),U.b.label(z||(z=Object(r.a)(["\n  color: #363636;\n  display: block;\n  font-size: 1rem;\n  font-weight: 700;\n  margin-bottom: 8px;\n"]))),U.b.textarea(P||(P=Object(r.a)(["\n  border-radius: 6px;\n  border: 1px solid transparent;\n  border-color: #dbdbdb;\n  -webkit-appearance: none;\n  max-width: 100%;\n  width: 100%;\n  font-size: 1rem;\n  line-height: 1.5;\n  padding: 4px;\n  resize: none;\n"])));U.b.div(A||(A=Object(r.a)(["\n  color: red;\n  background-color: mistyrose;\n  border-radius: 6px;\n  display: flex;\n  padding: 8px;\n  align-items: center;\n  gap: 8px;\n  margin: 8px 0;\n"]))),U.b.span(D||(D=Object(r.a)(["\n  background-color: white;\n  height: 30px;\n  width: 30px;\n  border-radius: 50%;\n  font-weight: bold;\n  display: grid;\n  place-content: center;\n"]))),U.b.p(H||(H=Object(r.a)(["\n  margin: 0;\n"])));var B,M,R,_,q=function(){var e=Object(u.b)(),t=Object(d.f)(),n=Object(c.useState)(""),a=Object(l.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(""),s=Object(l.a)(o,2),b=s[0],j=s[1],p=Object(c.useState)(""),h=Object(l.a)(p,2),O=h[0],m=h[1],f=Object(c.useState)(),g=Object(l.a)(f,2),v=g[0],y=g[1],S=Object(c.useState)(null),C=Object(l.a)(S,2),k=C[0],E=C[1],F=Object(u.c)((function(e){return e.emps.data.length}));return Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("h1",{children:"Add Employee"})}),Object(N.jsx)("div",{className:"row",children:Object(N.jsxs)("div",{className:"seven columns",children:[Object(N.jsx)("label",{htmlFor:"nameInput",children:"Name"}),Object(N.jsx)("input",{className:"u-full-width",type:"text",placeholder:"Name...",id:"nameInput",onChange:function(e){return i(e.target.value)},value:r}),Object(N.jsx)("label",{htmlFor:"emailInput",children:"Email"}),Object(N.jsx)("input",{className:"u-full-width",type:"email",placeholder:"Email...",id:"emailInput",onChange:function(e){return j(e.target.value)},value:b}),Object(N.jsx)("label",{htmlFor:"occupationInput",children:"Occupation"}),Object(N.jsx)("input",{className:"u-full-width",type:"text",placeholder:"Occupation...",id:"occupationInput",onChange:function(e){return m(e.target.value)},value:O}),Object(N.jsx)("label",{htmlFor:"salaryInput",children:"Salary"}),Object(N.jsx)("input",{className:"u-full-width",type:"text",placeholder:"Salary...",id:"salaryInput",onChange:function(e){return y(e.target.value)},value:v}),k&&k&&k&&k,Object(N.jsx)(w.b,{to:"/",children:Object(N.jsx)("button",{onClick:function(){r&&b&&O&&v?(e(x({id:F+1,name:r,email:b,occupation:O,salary:v})),E(null),t.push("/")):E("Fill in all fields"),i(""),j(""),m(""),y()},className:"button-primary",children:"Add Employee"})})]})})]})};U.b.div(B||(B=Object(r.a)(["\n  border-radius: 6px;\n  box-shadow: 0 0.5em 1em -0.125em rgb(10 10 10 / 10%),\n    0 0 0 1px rgb(10 10 10 / 2%);\n  padding: 16px;\n"])));var G,K,Q,V,W,X,Y,Z=U.b.button(M||(M=Object(r.a)(["\n  cursor: pointer;\n  font-size: 1rem;\n  border: 1px solid transparent;\n  border-radius: 6px;\n  padding: 8px 16px;\n  text-decoration: none;\n"]))),$=(Object(U.b)(Z)(R||(R=Object(r.a)(["\n  background-color: var(--main);\n  color: var(--accent);\n  &:hover {\n    opacity: 0.9;\n  }\n"]))),Object(U.b)(Z)(_||(_=Object(r.a)(["\n  background-color: white;\n  color: var(--main);\n  border: 2px solid var(--main);\n  &:hover {\n    background: hsl(235deg 85% 97%);\n  }\n"]))),U.b.div(G||(G=Object(r.a)(["\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n"]))));U.b.input(K||(K=Object(r.a)(["\n  border-radius: 6px;\n  border: 1px solid transparent;\n  border-color: #dbdbdb;\n  -webkit-appearance: none;\n  max-width: 100%;\n  width: 100%;\n  font-size: 1rem;\n  line-height: 1.5;\n  padding: 4px;\n"]))),U.b.label(Q||(Q=Object(r.a)(["\n  color: #363636;\n  display: block;\n  font-size: 1rem;\n  font-weight: 700;\n  margin-bottom: 8px;\n"]))),U.b.textarea(V||(V=Object(r.a)(["\n  border-radius: 6px;\n  border: 1px solid transparent;\n  border-color: #dbdbdb;\n  -webkit-appearance: none;\n  max-width: 100%;\n  width: 100%;\n  font-size: 1rem;\n  line-height: 1.5;\n  padding: 4px;\n  resize: none;\n"])));var ee=U.b.div(W||(W=Object(r.a)(["\n  color: red;\n  background-color: mistyrose;\n  border-radius: 6px;\n  display: flex;\n  padding: 8px;\n  align-items: center;\n  gap: 8px;\n  margin: 8px 0;\n"]))),te=U.b.span(X||(X=Object(r.a)(["\n  background-color: white;\n  height: 30px;\n  width: 30px;\n  border-radius: 50%;\n  font-weight: bold;\n  display: grid;\n  place-content: center;\n"]))),ne=U.b.p(Y||(Y=Object(r.a)(["\n  margin: 0;\n"]))),ae=function(e){var t=e.children;return Object(N.jsxs)(ee,{children:[Object(N.jsx)(te,{children:"!"}),Object(N.jsx)(ne,{children:t})]})};var re=function(e){var t=e.setUser,n=Object(c.useState)(""),a=Object(l.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(""),s=Object(l.a)(o,2),d=s[0],u=s[1],b=Object(c.useState)([]),j=Object(l.a)(b,2),p=j[0],h=j[1],O=Object(c.useState)(!1),m=Object(l.a)(O,2),x=m[0],f=m[1];return Object(N.jsx)("form",{onSubmit:function(e){e.preventDefault(),f(!0),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:d})}).then((function(e){f(!1),e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return h(e.errors)}))}))},children:Object(N.jsx)("div",{className:"row",children:Object(N.jsxs)("div",{className:"six columns",children:[Object(N.jsx)("label",{htmlFor:"username",children:"Username"}),Object(N.jsx)("input",{className:"u-full-width",type:"text",placeholder:"Username...",id:"username",autoComplete:"off",value:r,onChange:function(e){return i(e.target.value)}}),Object(N.jsx)("label",{htmlFor:"password",children:"Password"}),Object(N.jsx)("input",{className:"u-full-width",type:"password",placeholder:"Password...",id:"password",autoComplete:"current-password",value:d,onChange:function(e){return u(e.target.value)}}),Object(N.jsx)("button",{variant:"fill",className:"button-primary",type:"submit",children:x?"Loading...":"Login"}),Object(N.jsx)($,{children:p.map((function(e){return Object(N.jsx)(ae,{children:e},e)}))})]})})})};var ce,ie=function(e){var t=e.setUser,n=Object(c.useState)(""),a=Object(l.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(""),s=Object(l.a)(o,2),d=s[0],u=s[1],b=Object(c.useState)(""),j=Object(l.a)(b,2),p=j[0],h=j[1],O=Object(c.useState)([]),m=Object(l.a)(O,2),x=m[0],f=m[1],g=Object(c.useState)(!1),v=Object(l.a)(g,2),y=v[0],w=v[1];return Object(N.jsx)("form",{onSubmit:function(e){e.preventDefault(),f([]),w(!0),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:d,password_confirmation:p})}).then((function(e){w(!1),e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return f(e.errors)}))}))},children:Object(N.jsx)("div",{className:"row",children:Object(N.jsxs)("div",{className:"six columns",children:[Object(N.jsx)("label",{htmlFor:"username",children:"Username"}),Object(N.jsx)("input",{className:"u-full-width",type:"text",id:"username",autoComplete:"off",value:r,onChange:function(e){return i(e.target.value)}}),Object(N.jsx)("label",{htmlFor:"password",children:"Password"}),Object(N.jsx)("input",{className:"u-full-width",type:"password",id:"password",value:d,onChange:function(e){return u(e.target.value)},autoComplete:"current-password"}),Object(N.jsx)("label",{htmlFor:"password",children:"Password Confirmation"}),Object(N.jsx)("input",{className:"u-full-width",type:"password",id:"password_confirmation",value:p,onChange:function(e){return h(e.target.value)},autoComplete:"current-password"}),Object(N.jsx)("button",{className:"button-primary",type:"submit",children:y?"Loading...":"Sign Up"}),Object(N.jsx)($,{children:x.map((function(e){return Object(N.jsx)(ae,{children:e},e)}))})]})})})};var oe=U.b.section(ce||(ce=Object(r.a)(["\n  max-width: 500px;\n  margin: 40px auto;\n  padding: 16px;\n"]))),se=function(e){var t=e.setUser,n=Object(c.useState)(!0),a=Object(l.a)(n,2),r=a[0],i=a[1];return Object(N.jsx)(oe,{children:Object(N.jsx)("div",{children:r?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(re,{setUser:t}),Object(N.jsxs)("p",{children:["Don't have an account? \xa0",Object(N.jsx)("button",{className:"button-primary",onClick:function(){return i(!1)},children:"Sign Up"})]})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ie,{setUser:t}),Object(N.jsxs)("p",{children:["Already have an account? \xa0",Object(N.jsx)("button",{className:"button-primary",onClick:function(){return i(!0)},children:"Log In"})]})]})})})};var le,de=function(e){e.user;var t=e.setUser;return Object(N.jsx)("header",{children:Object(N.jsx)("button",{className:"button-primary",variant:"outline",onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&t(null)}))},children:"Logout"})})};var ue=U.b.section(le||(le=Object(r.a)(["\n  max-width: 500px;\n  margin: 40px auto;\n  padding: 16px;\n"]))),be=function(){return Object(N.jsx)(ue,{children:Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Holmes Corp. Employee App"}),Object(N.jsx)(w.b,{to:"/page",children:Object(N.jsx)("button",{className:"button-primary",children:"Click Here To Login Or Sign Up"})})]})})};var je,pe=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return a(e)}))}))}),[]),n?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(de,{user:n,setUser:a}),Object(N.jsx)("main",{children:Object(N.jsxs)(d.c,{children:[Object(N.jsx)(d.a,{path:"/add-employee",children:Object(N.jsx)(q,{})}),Object(N.jsx)(d.a,{path:"/edit-employee",children:Object(N.jsx)(S,{})}),Object(N.jsx)(d.a,{path:"/",children:Object(N.jsx)(I,{})})]})})]}):Object(N.jsxs)("div",{children:[Object(N.jsx)(be,{}),Object(N.jsx)(d.c,{children:Object(N.jsx)(d.a,{path:"/page",children:Object(N.jsx)(se,{setUser:a})})})]})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Oe=Object(h.a)({reducer:{emps:y}}),me=Object(U.a)(je||(je=Object(r.a)(['\n  *,\n  *::before, \n  *::after {\n    box-sizing: border-box;\n  }\n  html, body {\n    margin: 0;\n  }\n  body {\n    font-family: BlinkMacSystemFont,-apple-system,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,Arial,sans-serif;\n  }\n'])));s.a.render(Object(N.jsx)(i.a.StrictMode,{children:Object(N.jsxs)(w.a,{children:[Object(N.jsx)(me,{}),Object(N.jsx)(u.a,{store:Oe,children:Object(N.jsx)(pe,{})})]})}),document.getElementById("root")),he()}},[[60,1,2]]]);
//# sourceMappingURL=main.41c74502.chunk.js.map